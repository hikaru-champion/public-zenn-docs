---
title: "ã€Dockerå†å…¥é–€ã€‘ï½Dockerã®æ¦‚è¦ç´¹ä»‹ãƒ»Dockerã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«åï½"
emoji: "ğŸ“Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ã‚³ãƒ³ãƒ†ãƒŠ", "Docker"]
published: true
---
# ã¯ã˜ã‚ã«
ã“ã‚“ã«ã¡ã¯ã€‚championã§ã™ã€‚
æ™®æ®µã¯ã€Google Cloudã‚„AWSã‚’ä¸­å¿ƒã¨ã—ãŸã‚¯ãƒ©ã‚¦ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©ã®è¨­è¨ˆï½ä¿å®ˆé‹ç”¨ã‚’è¡Œãªã£ã¦ã„ã¾ã™ã€‚

å€‹äººçš„ã«å¹´æ˜ã‘ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“ã«å†å…¥é–€ä½¿ç”¨ã¨ã„ã†ä¼ç”»ã‚’ã‚„ã£ã¦ã„ã¾ã™ã€‚
Google Cloudã®Cloud Runã‚„ã€AWSã®ECSã§ã‚‚åˆ©ç”¨ã•ã‚Œã‚‹Dockerã¨ã„ã†æŠ€è¡“ã§ã™ãŒã€Dockerã«ã¤ã„ã¦å†åº¦å¾©ç¿’ã‚’å…¼ã­ã¦ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ä»Šå›ã¯ã€Dockerã®æ¦‚è¦ã«ã¤ã„ã¦ã®ç´¹ä»‹ã‚„ã€ä»®æƒ³ãƒã‚·ãƒ³ã¨ã®é•ã„ã€Linuxãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ä¸Šã«Dockerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¾ã§ã‚’è¨˜è¼‰ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

# Dockerã¨ã¯
Dockerã¯Dockerç¤¾ãŒé–‹ç™ºã‚’ã—ã¦ãŠã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãã®å®Ÿè¡Œã«å¿…è¦ãªç’°å¢ƒã‚’ä¸€ã¤ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ã€è»½é‡ã§å¯æ¬æ€§ã®é«˜ã„å®Ÿè¡Œç’°å¢ƒã‚’æä¾›ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠå‹ä»®æƒ³æŠ€è¡“ã§ã™ã€‚åŸºæœ¬çš„ã«ã¯ã€Dockerã‚¨ãƒ³ã‚¸ãƒ³ã¨å‘¼ã°ã‚Œã‚‹Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ãˆã—ã¦ã„ã‚Œã°ã€æ§˜ã€…ãªç’°å¢ƒã§Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®ãŸã‚ã€Dockerã¯é–‹ç™ºç’°å¢ƒã®å·®ç•°ã‚’å¸åã—ã¦ãã‚Œã€ç’°å¢ƒã®ä¸€è²«æ€§ã‚’ä¿ã¤ã“ã¨ãŒã§ãã¾ã™ã€‚

https://www.docker.com/ja-jp/

# ä»®æƒ³ãƒã‚·ãƒ³ã¨ã®é•ã„
ã‚³ãƒ³ãƒ†ãƒŠã¨ä»®æƒ³ãƒã‚·ãƒ³ã¯ã€ä¸¡æ–¹ãã‚Œãã‚Œã®ä¸­ã«ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œç’°å¢ƒã‚’æä¾›ã™ã‚‹ç‚¹ã¯åŒã˜ã§ã™ãŒã€ãƒ—ãƒ­ã‚»ã‚¹ã®ä¸‹ã«ã‚ã‚‹ã‚«ãƒ¼ãƒãƒ«ä»¥ä¸‹ã®ãƒ¬ã‚¤ãƒ¤ã«å¤§ããªé•ã„ãŒã‚ã‚Šã¾ã™ã€‚ä»®æƒ³ãƒã‚·ãƒ³ã¯ã€å€‹ã€…ã®ä»®æƒ³ãƒã‚·ãƒ³å°‚ç”¨ã®ä»®æƒ³çš„ãªãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨ã‚«ãƒ¼ãƒãƒ«ã‚’ä½¿ã†ã®ã«å¯¾ã—ã¦ã€ã‚³ãƒ³ãƒ†ãƒŠã®å ´åˆã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã‚’å‹•ã‹ã™ãƒ›ã‚¹ãƒˆOSã€ãŠã‚ˆã³å…¨ã‚³ãƒ³ãƒ†ãƒŠãŒ1ã¤ã®ã‚«ãƒ¼ãƒãƒ«ã‚’å…±æœ‰ã—ã¾ã™ã€‚

ä»®æƒ³ãƒã‚·ãƒ³ãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æµã‚Œã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

1. ãƒ›ã‚¹ãƒˆOSä¸Šã®ä»®æƒ³åŒ–ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãŒã€ä»®æƒ³ãƒã‚·ãƒ³ã‚’èµ·å‹•ã™ã‚‹ã€‚
2. GRUBãªã©ã®ãƒ–ãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€ãŒèµ·å‹•ã™ã‚‹
3. ãƒ–ãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€ãŒã‚«ãƒ¼ãƒãƒ«ã‚’èµ·å‹•ã™ã‚‹
4. ã‚«ãƒ¼ãƒãƒ«ãŒinitãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ·å‹•ã™ã‚‹
5. initï¼ˆsystemdï¼‰ãƒ—ãƒ­ã‚»ã‚¹ãŒå„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã‚‹

ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ã¾ã§ã®æµã‚Œã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
1. ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ (Dockerd)ãŒã€ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã‚‹
2. ã‚³ãƒ³ãƒ†ãƒŠãŒæœ€åˆã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç«‹ã¡ä¸Šã’ã‚‹

ä»®æƒ³ãƒã‚·ãƒ³ã¨æ¯”è¼ƒã™ã‚‹ã¨ã€èµ·å‹•ã™ã‚‹ã¾ã§ã®éç¨‹ãŒã‹ãªã‚ŠçŸ­ã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚
ãã®ãŸã‚ã€ã‚³ãƒ³ãƒ†ãƒŠã¯èµ·å‹•æ™‚é–“ãŒçŸ­ã„ã“ã¨ã‹ã‚‰ã€è¿…é€Ÿãªã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚


# Dockerã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
Dockerã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒå‹**ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚
![Dockerã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](/images/docker-20250125/docker-architecture.png)
https://docs.docker.jp/get-started/overview.html#docker-architecture

Dockerã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ç™»å ´ã™ã‚‹ç”¨èªã«ã¤ã„ã¦è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚

## Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã¨ã‚„ã‚Šå–ã‚Šã™ã‚‹ãŸã‚ã«ãƒ¦ãƒ¼ã‚¶ãŒåˆ©ç”¨ã—ã¾ã™ã€‚**dockerCLIã‚³ãƒãƒ³ãƒ‰**ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã«å¯¾ã—ã¦Dockerã®æ©Ÿèƒ½ã®å®Ÿè¡Œã‚’å‘½ä»¤ã—ã¾ã™ã€‚

## Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³
Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã¯ã€Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å‘½ä»¤ã‚’å—ã‘ä»˜ã‘ã€Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã‚³ãƒ³ãƒ†ãƒŠã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã©ã®Dockerã®æ©Ÿèƒ½ç¾¤ã‚’ç®¡ç†ãƒ»å®Ÿè¡Œã—ã¾ã™ã€‚

## Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒª
Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªã¯ã€**Dockerã‚¤ãƒ¡ãƒ¼ã‚¸**ã‚’ç®¡ç†ã—ã¾ã™ã€‚**Docker Hub**ã®ã‚ˆã†ãªå…¬é–‹ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚‚ã‚ã‚Œã°ã€AWSã‚„Google Cloudã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ãŒæä¾›ã™ã‚‹ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚„ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚‚ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã¯ã€Dockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¦ã€ãƒ›ã‚¹ãƒˆä¸Šã§Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

## Dockerã‚¤ãƒ¡ãƒ¼ã‚¸
Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã€Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã™ã‚‹å‘½ä»¤ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚Dockerã‚³ãƒ³ãƒ†ãƒŠã¯Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã‚‚ã¨ã«ä½œæˆã•ã‚Œã¾ã™ã€‚Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã€å…ˆè¿°ã—ãŸDockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã—ã€è‡ªèº«ã§ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚è‡ªèº«ã§Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹å ´åˆã¯ã€**Dockerfile**ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€Dockerfileã«Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã¾ã§ã®å‘½ä»¤ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

## Dockerã‚³ãƒ³ãƒ†ãƒŠ
Dockerã‚³ãƒ³ãƒ†ãƒŠã¯ã€å…ˆè¿°ã—ãŸDockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ä½œæˆã•ã‚Œã‚‹å®Ÿè¡ŒçŠ¶æ…‹ã¨ãªã£ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒŠã¯ã€Linuxã‚«ãƒ¼ãƒãƒ«ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ç‹¬ç«‹ã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚„ã€ãƒ—ãƒ­ã‚»ã‚¹ãŒæä¾›ã•ã‚Œãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ä¸Šã§éš”é›¢ã•ã‚ŒãŸé ˜åŸŸã«ãªã‚Šã¾ã™ã€‚


# Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
Dockerã‚’Linuxä¸Šã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚
ä»Šå›ã¯ã€Rocky Linux 9.5ã«Dockerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚
```bash
$ cat /etc/os-release 
NAME="Rocky Linux"
VERSION="9.5 (Blue Onyx)"
ID="rocky"
ID_LIKE="rhel centos fedora"
VERSION_ID="9.5"
PLATFORM_ID="platform:el9"
PRETTY_NAME="Rocky Linux 9.5 (Blue Onyx)"
ANSI_COLOR="0;32"
LOGO="fedora-logo-icon"
CPE_NAME="cpe:/o:rocky:rocky:9::baseos"
HOME_URL="https://rockylinux.org/"
VENDOR_NAME="RESF"
VENDOR_URL="https://resf.org/"
BUG_REPORT_URL="https://bugs.rockylinux.org/"
SUPPORT_END="2032-05-31"
ROCKY_SUPPORT_PRODUCT="Rocky-Linux-9"
ROCKY_SUPPORT_PRODUCT_VERSION="9.5"
REDHAT_SUPPORT_PRODUCT="Rocky Linux"
REDHAT_SUPPORT_PRODUCT_VERSION="9.5"
```

## Dockerãƒªãƒã‚¸ãƒˆãƒªã®è¿½åŠ 
Dockerç¤¾ãŒæä¾›ã™ã‚‹å…¬å¼ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚
```bash
$ sudo dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
Adding repo from: https://download.docker.com/linux/centos/docker-ce.repo
```

ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‚’ç¢ºèªã—ã¦ã„ãã¾ã™ã€‚
```bash
$ sudo dnf repolist | grep Docker
docker-ce-stable                      Docker CE Stable - x86_64
```
ã“ã‚Œã§Rocky Linuxã«Dockerã®ãƒªãƒã‚¸ãƒˆãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã—ãŸã€‚

## Dockerã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
Dockerã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚
```bash
$ sudo dnf -y install docker-ce docker-ce-cli containerd.io
```
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€**docker version**ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸDockerã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ä»Šå›ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³**27.5.1**ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚
```bash
$ docker version
Client: Docker Engine - Community
 Version:           27.5.1
 API version:       1.47
 Go version:        go1.22.11
 Git commit:        9f9e405
 Built:             Wed Jan 22 13:42:47 2025
 OS/Arch:           linux/amd64
 Context:           default
Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
```

## Dockerã®èµ·å‹•ç¢ºèªã¨è‡ªå‹•èµ·å‹•è¨­å®š
Dockerã‚¨ãƒ³ã‚¸ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œã¯ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒèµ·å‹•ã—ã¦ã„ã¾ã›ã‚“ã€‚
```bash
$ sudo systemctl status docker
â—‹ docker.service - Docker Application Container Engine
     Loaded: loaded (/usr/lib/systemd/system/docker.service; disabled; preset: disabled)
     Active: inactive (dead)
TriggeredBy: â—‹ docker.socket
       Docs: https://docs.docker.com
```

ãã®ãŸã‚ã€**systemctl start**ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦ã€Dockerã®èµ·å‹•ã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚
```bash
$ sudo systemctl start docker
$ sudo systemctl status docker
â— docker.service - Docker Application Container Engine
     Loaded: loaded (/usr/lib/systemd/system/docker.service; disabled; preset: disabled)
     Active: active (running) since Fri 2025-01-24 23:17:49 UTC; 1s ago
TriggeredBy: â— docker.socket
       Docs: https://docs.docker.com
   Main PID: 78229 (dockerd)
      Tasks: 10
     Memory: 28.2M
        CPU: 207ms
     CGroup: /system.slice/docker.service
             â””â”€78229 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

Jan 24 23:17:47 rocky dockerd[78229]: time="2025-01-24T23:17:47.956118145Z" level=info msg="Starting up"
Jan 24 23:17:47 rocky dockerd[78229]: time="2025-01-24T23:17:47.957371649Z" level=info msg="OTEL tracing is not>
Jan 24 23:17:48 rocky dockerd[78229]: time="2025-01-24T23:17:48.019630565Z" level=info msg="Loading containers:>
Jan 24 23:17:48 rocky dockerd[78229]: time="2025-01-24T23:17:48.059542785Z" level=info msg="Firewalld: created >
Jan 24 23:17:49 rocky dockerd[78229]: time="2025-01-24T23:17:49.309172007Z" level=info msg="Firewalld: interfac>
Jan 24 23:17:49 rocky dockerd[78229]: time="2025-01-24T23:17:49.642863119Z" level=info msg="Loading containers:>
Jan 24 23:17:49 rocky dockerd[78229]: time="2025-01-24T23:17:49.664401585Z" level=info msg="Docker daemon" comm>
Jan 24 23:17:49 rocky dockerd[78229]: time="2025-01-24T23:17:49.664710505Z" level=info msg="Daemon has complete>
Jan 24 23:17:49 rocky dockerd[78229]: time="2025-01-24T23:17:49.716290617Z" level=info msg="API listen on /run/>
Jan 24 23:17:49 rocky systemd[1]: Started Docker Application Container Engine.
```

Dockerã®èµ·å‹•ãŒç¢ºèªã§ããŸå¾Œã¯ã€å†èµ·å‹•å¾Œã‚‚è‡ªå‹•çš„ã«Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒèµ·å‹•ã™ã‚‹ã‚ˆã†ã«ã€**systemctl enable**ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦è‡ªå‹•èµ·å‹•ã®è¨­å®šã‚’è¡Œãªã£ã¦ã„ãã¾ã™ã€‚

```bash
$ sudo systemctl enable docker
Created symlink /etc/systemd/system/multi-user.target.wants/docker.service â†’ /usr/lib/systemd/system/docker.service.

$ sudo systemctl is-enabled docker
enabled
```

## Dockerã‚°ãƒ«ãƒ¼ãƒ—ã¸ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ 
Dockerã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã¯ã€dockerã‚³ãƒãƒ³ãƒ‰ã¯rootæ¨©é™ã§ã—ã‹å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚**docker ps**ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€**/var/run/docker.sock**ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ¨©é™ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚
**/var/run/docker.sock**ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ã‚’ç¢ºèªã™ã‚‹ã¨ã€rootã‹dockerã‚°ãƒ«ãƒ¼ãƒ—ã®ãƒ¡ãƒ³ãƒãƒ¼ã«ã—ã‹æ¨©é™ãŒãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

```bash
$ docker ps
permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.47/containers/json": dial unix /var/run/docker.sock: connect: permission denied

$ ll /var/run/docker.sock 
srw-rw----. 1 root docker 0 Jan 24 23:17 /var/run/docker.sock
```
rootä»¥å¤–ã§ã‚‚dockerã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ãã¾ã™ã€‚
è‡ªèº«ã®ãƒ¦ãƒ¼ã‚¶ã‚’dockerã‚°ãƒ«ãƒ¼ãƒ—ã«æ‰€å±ã•ã›ã‚‹ã“ã¨ã§ã€è‡ªèº«ã®ãƒ¦ãƒ¼ã‚¶ã§dockerã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```bash
$ sudo usermod -aG docker $USER
```
ãã®å¾Œã€å†èµ·å‹•ã—ã¦å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸå¾Œã«**docker ps**ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¨©é™ã‚¨ãƒ©ãƒ¼ãŒãªãå®Ÿè¡Œçµæœã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚
```bash
$ sudo reboot

$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```
ã“ã‚Œã§dockerã‚’ä½¿ç”¨ã§ãã‚‹ç’°å¢ƒã¯æ•´ã„ã¾ã—ãŸã€‚
æ¬¡å›ã€dockerã‚’å®Ÿéš›ã«å‹•ä½œã•ã›ã¦ã¿ã¦ã€å„ç¨®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸéš›ã«ä½•ãŒèµ·ã“ã‚‹ã®ã‹ã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

# å‚è€ƒ
https://www.docker.com/ja-jp/
https://docs.docker.jp/
https://gihyo.jp/book/2022/978-4-297-13148-7
